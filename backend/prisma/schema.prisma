generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Paciente {
  id          String   @id @default(uuid())
  nome        String
  telefone    String
  documento   String? 
  observacoes String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  agendamentos Agendamento[]
}

model Lead {
  id        String   @id @default(uuid())
  nome      String?
  telefone  String
  interesse String?
  createdAt DateTime @default(now())
}

enum StatusAgendamento {
  CONFIRMADO
  PENDENTE
  CANCELADO
}

model Agendamento {
  id           String   @id @default(uuid())
  pacienteId   String
  inicio       DateTime
  fim          DateTime
  procedimento String?
  status       StatusAgendamento @default(PENDENTE)

  paciente Paciente @relation(fields: [pacienteId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
